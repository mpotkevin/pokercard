<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>極致質感撲克訓練工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Libre+Baskerville:wght@700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #1a1a1a;
            color: #e5e7eb;
            overflow: hidden;
        }

        /* 擬真撲克牌設計 */
        .card {
            width: 130px;
            aspect-ratio: 2.5 / 3.5;
            perspective: 1000px;
            animation: cardEntrance 0.5s ease-out backwards;
            cursor: pointer;
        }

        .card.mini {
            width: 80px;
            animation: none;
        }

        @media (min-width: 1024px) {
            .card { width: 140px; }
            .card.mini { width: 90px; }
        }

        @keyframes cardEntrance {
            from { opacity: 0; transform: translateY(20px) scale(0.9) rotate(5deg); }
            to { opacity: 1; transform: translateY(0) scale(1) rotate(0); }
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
            border-radius: 8px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.5);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            border: 1px solid #ccc;
            overflow: hidden;
        }

        .card-front {
            background: linear-gradient(135deg, #ffffff 0%, #f9f9f9 100%);
            display: flex;
            flex-direction: column;
            padding: 8px;
        }

        .card-rank-small {
            font-family: 'Libre Baskerville', serif;
            font-size: 1.25rem;
            line-height: 1;
            font-weight: bold;
        }
        
        .card-suit-small {
            font-size: 0.875rem;
        }

        .card-suit-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3.5rem;
            opacity: 0.9;
        }

        .card-back {
            background-color: #b91c1c;
            color: white;
            transform: rotateY(180deg);
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(0,0,0,0.1) 8px, rgba(0,0,0,0.1) 16px),
                radial-gradient(circle at center, #991b1b 0%, #7f1d1d 100%);
            border: 3px solid white;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .hidden-answer {
            filter: blur(12px);
            opacity: 0;
            transform: translateY(10px);
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .show-answer-box {
            filter: blur(0) !important;
            opacity: 1 !important;
            transform: translateY(0) !important;
            pointer-events: auto !important;
        }

        ::-webkit-scrollbar { width: 4px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 10px; }

        .sidebar-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s;
        }
        
        select.bg-transparent option {
            background-color: #1a1a1a;
            color: white;
        }

        @keyframes pulse-timer {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.4); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(249, 115, 22, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(249, 115, 22, 0); }
        }
        .animate-pulse-timer {
            animation: pulse-timer 1.5s infinite;
        }
    </style>
</head>
<body class="h-screen flex flex-col">

    <!-- 頂部標題與導航 -->
    <header class="bg-black/40 backdrop-blur-md p-4 border-b border-white/10 flex justify-between items-center px-8">
        <h1 class="text-xl font-bold flex items-center gap-3 tracking-wider">
            <span class="bg-indigo-600 p-1.5 rounded-lg"><i data-lucide="playing-cards" class="w-5 h-5"></i></span>
            撲克認知訓練系統
        </h1>
        <nav class="flex gap-1 bg-white/5 p-1 rounded-xl">
            <button onclick="setMode('draw')" id="btn-draw" class="px-4 py-2 rounded-lg text-sm transition-all font-medium">隨機抽牌</button>
            <button onclick="setMode('missing')" id="btn-missing" class="px-4 py-2 rounded-lg text-sm transition-all font-medium">視覺找缺</button>
            <button onclick="setMode('memory')" id="btn-memory" class="px-4 py-2 rounded-lg text-sm transition-all font-medium">序列記憶</button>
            <button onclick="setMode('sort')" id="btn-sort" class="px-4 py-2 rounded-lg text-sm transition-all font-medium">數字排序</button>
        </nav>
    </header>

    <main class="flex-grow flex overflow-hidden">
        <!-- 左側設定欄 -->
        <aside class="w-80 bg-black/20 border-r border-white/10 p-6 flex flex-col gap-8 overflow-y-auto">
            
            <!-- 模式一：抽牌 -->
            <div id="controls-draw" class="mode-control hidden space-y-6">
                <div>
                    <h3 class="text-indigo-400 text-xs font-bold uppercase tracking-widest mb-4">抽牌模式設定</h3>
                    <div class="space-y-4">
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">指定花色</label>
                            <select id="draw-suit" class="bg-transparent w-full text-lg font-bold outline-none cursor-pointer">
                                <option value="random">隨機花色</option>
                                <option value="0">黑桃 ♠</option>
                                <option value="1">紅心 ♥</option>
                                <option value="2">方塊 ♦</option>
                                <option value="3">梅花 ♣</option>
                            </select>
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">每次抽幾張</label>
                            <input type="number" id="draw-per-time" value="1" min="1" max="5" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">總數上限</label>
                            <input type="number" id="draw-max" value="12" min="1" max="52" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                        <div class="flex items-center gap-3 px-1">
                            <input type="checkbox" id="allow-repeat" class="w-5 h-5 rounded accent-indigo-500">
                            <label for="allow-repeat" class="text-sm text-gray-300">允許重複牌面</label>
                        </div>
                    </div>
                </div>
                <button onclick="drawCardsBatch()" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-4 rounded-2xl font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95">
                    立即抽取
                </button>
                <button onclick="resetDraw()" class="w-full text-gray-500 text-sm hover:text-white transition">清空紀錄與重置</button>
            </div>

            <!-- 模式二：找缺牌 -->
            <div id="controls-missing" class="mode-control hidden space-y-6">
                <div>
                    <h3 class="text-emerald-400 text-xs font-bold uppercase tracking-widest mb-4">找缺牌設定</h3>
                    <div class="space-y-4">
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">指定花色</label>
                            <select id="missing-suit" class="bg-transparent w-full text-lg font-bold outline-none cursor-pointer">
                                <option value="random">隨機花色</option>
                                <option value="0">黑桃 ♠</option>
                                <option value="1">紅心 ♥</option>
                                <option value="2">方塊 ♦</option>
                                <option value="3">梅花 ♣</option>
                            </select>
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">範圍 (1 至 X)</label>
                            <input type="number" id="missing-range" value="13" min="5" max="13" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">缺少張數</label>
                            <input type="number" id="missing-count" value="1" min="1" max="5" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                    </div>
                </div>
                <button onclick="generateMissing()" class="w-full bg-emerald-600 hover:bg-emerald-500 text-white py-4 rounded-2xl font-bold shadow-lg shadow-emerald-500/20 transition-all active:scale-95">
                    生成題目
                </button>
                <button onclick="toggleAnswer()" class="w-full border border-white/10 text-gray-300 py-3 rounded-xl hover:bg-white/5 transition">
                    顯示答案
                </button>
            </div>

            <!-- 模式三：記憶力 -->
            <div id="controls-memory" class="mode-control hidden space-y-6">
                <div>
                    <h3 class="text-orange-400 text-xs font-bold uppercase tracking-widest mb-4">記憶力設定</h3>
                    <div class="space-y-4">
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">花色設定</label>
                            <select id="memory-suit-mode" class="bg-transparent w-full text-lg font-bold outline-none cursor-pointer">
                                <option value="random">隨機花色</option>
                                <option value="0">全黑桃 ♠</option>
                                <option value="1">全紅心 ♥</option>
                                <option value="2">全方塊 ♦</option>
                                <option value="3">全梅花 ♣</option>
                            </select>
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">記憶張數 (1-52)</label>
                            <input type="number" id="memory-count" value="4" min="1" max="52" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">展示時間 (秒)</label>
                            <input type="number" id="memory-time" value="5" min="1" max="30" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                    </div>
                </div>
                <button onclick="startMemory()" class="w-full bg-orange-600 hover:bg-orange-500 text-white py-4 rounded-2xl font-bold shadow-lg shadow-orange-500/20 transition-all active:scale-95">
                    開始記憶
                </button>
                <button onclick="revealMemory()" id="btn-reveal-memory" disabled class="w-full border border-white/10 text-gray-300 py-3 rounded-xl hover:bg-white/5 transition disabled:opacity-30">
                    核對全部答案
                </button>
                <p class="text-[10px] text-gray-500 text-center italic">點擊牌面即可手動翻開/蓋上</p>
            </div>

            <!-- 模式四：數字排序 -->
            <div id="controls-sort" class="mode-control hidden space-y-6">
                <div>
                    <h3 class="text-cyan-400 text-xs font-bold uppercase tracking-widest mb-4">排序遊戲設定</h3>
                    <div class="space-y-4">
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">指定花色</label>
                            <select id="sort-suit" class="bg-transparent w-full text-lg font-bold outline-none cursor-pointer">
                                <option value="random">隨機花色</option>
                                <option value="0">黑桃 ♠</option>
                                <option value="1">紅心 ♥</option>
                                <option value="2">方塊 ♦</option>
                                <option value="3">梅花 ♣</option>
                            </select>
                        </div>
                        <div class="sidebar-item p-3 rounded-xl">
                            <label class="block text-xs text-gray-400 mb-1">排序範圍 (1-13)</label>
                            <input type="number" id="sort-range" value="5" min="2" max="13" class="bg-transparent w-full text-xl font-bold outline-none">
                        </div>
                    </div>
                </div>
                <button onclick="generateSort()" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white py-4 rounded-2xl font-bold shadow-lg shadow-cyan-500/20 transition-all active:scale-95">
                    打亂排序
                </button>
                <p class="text-[10px] text-gray-500 text-center italic">請觀察亂序題目並排列實體撲克牌</p>
            </div>

            <!-- 底部歷史區 -->
            <div id="history-section" class="mt-auto hidden border-t border-white/10 pt-6">
                <p class="text-[10px] text-gray-500 uppercase tracking-tighter mb-2">歷史抽取紀錄</p>
                <div id="history-list" class="flex flex-wrap gap-2 max-h-40 overflow-y-auto pr-2"></div>
            </div>
        </aside>

        <!-- 右側展示區 -->
        <section id="main-stage" class="flex-grow relative bg-gradient-to-br from-gray-900 to-black p-4 flex flex-col justify-center items-center overflow-hidden">
            
            <!-- 觀察倒數 (右下角) -->
            <div id="memory-timer" class="absolute bottom-6 right-6 bg-orange-600/40 backdrop-blur-md border border-orange-500/50 px-5 py-3 rounded-2xl hidden flex flex-col items-center gap-1 z-10 animate-pulse-timer shadow-2xl">
                <span class="text-orange-200 font-bold uppercase text-[10px] tracking-widest">觀察倒數</span>
                <div class="flex items-center gap-2">
                    <i data-lucide="timer" class="w-4 h-4 text-orange-400"></i>
                    <span id="timer-seconds" class="text-white font-bold text-3xl min-w-[1.5ch] text-center">5</span>
                </div>
            </div>

            <!-- 容器：預設維持自動換行 -->
            <div id="cards-container" class="flex flex-wrap justify-center items-center gap-3 w-full p-4 overflow-y-auto">
                <div class="text-center text-gray-600">
                    <i data-lucide="mouse-pointer-2" class="w-12 h-12 mx-auto mb-4 opacity-20"></i>
                    <p class="text-lg">選擇模式並點擊開始</p>
                </div>
            </div>

            <!-- 懸浮答案顯示區 -->
            <div id="floating-ans-container" class="absolute bottom-6 right-6 bg-black/60 backdrop-blur-md border border-white/20 p-4 rounded-2xl hidden-answer flex flex-col items-center gap-2">
                <p class="text-[10px] text-gray-400 font-bold uppercase tracking-widest">缺失牌面</p>
                <div id="floating-ans-cards" class="flex gap-2"></div>
            </div>
        </section>
    </main>

    <!-- Toast 提示 -->
    <div id="toast" class="fixed top-24 left-1/2 -translate-x-1/2 bg-white text-black px-6 py-2 rounded-full font-bold shadow-2xl transition-all opacity-0 scale-90 pointer-events-none z-50">
        提示
    </div>

    <script>
        const suits = [
            { name: 'spades', char: '♠', color: '#111827' },
            { name: 'hearts', char: '♥', color: '#dc2626' },
            { name: 'diamonds', char: '♦', color: '#dc2626' },
            { name: 'clubs', char: '♣', color: '#111827' }
        ];
        const ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
        
        let currentMode = '';
        let fullDeck = [];
        let drawHistory = [];
        let missingAnswers = [];
        let memorySequence = [];
        let memoryTimer = null;
        let countdownInterval = null;

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.classList.remove('opacity-0', 'scale-90');
            t.classList.add('opacity-100', 'scale-100');
            setTimeout(() => {
                t.classList.add('opacity-0', 'scale-90');
                t.classList.remove('opacity-100', 'scale-100');
            }, 2000);
        }

        function createCardElement(rank, suitObj, isBack = false, delay = 0, isMini = false) {
            const card = document.createElement('div');
            card.className = `card ${isBack ? 'flipped' : ''} ${isMini ? 'mini' : ''}`;
            card.style.animationDelay = `${delay}s`;
            
            const content = `
                <div class="card-inner">
                    <div class="card-front" style="color: ${suitObj.color}">
                        <div class="absolute top-1 left-1 flex flex-col items-center">
                            <span class="card-rank-small">${rank}</span>
                            <span class="card-suit-small">${suitObj.char}</span>
                        </div>
                        <div class="card-suit-center">${suitObj.char}</div>
                        <div class="absolute bottom-1 right-1 flex flex-col items-center rotate-180">
                            <span class="card-rank-small">${rank}</span>
                            <span class="card-suit-small">${suitObj.char}</span>
                        </div>
                    </div>
                    <div class="card-back"></div>
                </div>
            `;
            card.innerHTML = content;
            card.onclick = () => card.classList.toggle('flipped');
            return card;
        }

        function setMode(mode) {
            currentMode = mode;
            if(countdownInterval) clearInterval(countdownInterval);
            document.getElementById('memory-timer').classList.add('hidden');

            document.querySelectorAll('.mode-control').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(el => el.classList.remove('bg-indigo-600', 'text-white'));
            
            document.getElementById(`controls-${mode}`).classList.remove('hidden');
            document.getElementById(`btn-${mode}`).classList.add('bg-indigo-600', 'text-white');
            
            const stage = document.getElementById('cards-container');
            // 確保容器始終維持 Grid/Wrap 佈局
            stage.className = "flex flex-wrap justify-center items-center gap-3 w-full p-4 overflow-y-auto";
            stage.innerHTML = '';
            
            document.getElementById('floating-ans-container').classList.remove('show-answer-box');
            document.getElementById('history-section').classList.add('hidden');
            
            if (mode === 'draw') {
                initDeck();
                document.getElementById('history-section').classList.remove('hidden');
            }
            lucide.createIcons();
        }

        function initDeck() {
            fullDeck = [];
            suits.forEach(s => ranks.forEach(r => fullDeck.push({ rank: r, suit: s })));
            drawHistory = [];
            updateHistoryUI();
        }

        function drawCardsBatch() {
            const numToDraw = parseInt(document.getElementById('draw-per-time').value) || 1;
            const limit = parseInt(document.getElementById('draw-max').value);
            const allowRepeat = document.getElementById('allow-repeat').checked;
            const suitMode = document.getElementById('draw-suit').value;
            const stage = document.getElementById('cards-container');
            
            stage.innerHTML = '';

            for(let i=0; i < numToDraw; i++) {
                let cardData;
                if (allowRepeat) {
                    let s = suitMode === 'random' ? suits[Math.floor(Math.random() * 4)] : suits[parseInt(suitMode)];
                    let r = ranks[Math.floor(Math.random() * 13)];
                    cardData = { rank: r, suit: s };
                } else {
                    let filteredDeck = suitMode === 'random' ? fullDeck : fullDeck.filter(c => c.suit === suits[parseInt(suitMode)]);
                    if (filteredDeck.length === 0) {
                        showToast("牌組已抽完"); break;
                    }
                    if (drawHistory.length >= limit) {
                        showToast("已達上限"); break;
                    }
                    const idxInFiltered = Math.floor(Math.random() * filteredDeck.length);
                    cardData = filteredDeck[idxInFiltered];
                    fullDeck.splice(fullDeck.indexOf(cardData), 1);
                }
                drawHistory.unshift(cardData);
                stage.appendChild(createCardElement(cardData.rank, cardData.suit, false, i * 0.1));
            }
            updateHistoryUI();
        }

        function updateHistoryUI() {
            const list = document.getElementById('history-list');
            list.innerHTML = '';
            drawHistory.forEach(card => {
                const badge = document.createElement('div');
                badge.className = 'px-2 py-1 bg-white/10 rounded text-xs font-bold border border-white/5';
                badge.style.color = (card.suit.color === '#111827') ? '#9ca3af' : '#f87171';
                badge.innerText = `${card.suit.char}${card.rank}`;
                list.appendChild(badge);
            });
        }

        function resetDraw() {
            initDeck();
            document.getElementById('cards-container').innerHTML = '<p class="text-gray-500 italic">牌組已重置</p>';
        }

        function generateMissing() {
            const range = parseInt(document.getElementById('missing-range').value);
            const mCount = parseInt(document.getElementById('missing-count').value);
            const suitMode = document.getElementById('missing-suit').value;
            const stage = document.getElementById('cards-container');
            const ansContainer = document.getElementById('floating-ans-cards');
            
            stage.innerHTML = '';
            ansContainer.innerHTML = '';
            document.getElementById('floating-ans-container').classList.remove('show-answer-box');

            let suit = suitMode === 'random' ? suits[Math.floor(Math.random() * 4)] : suits[parseInt(suitMode)];
            let tempPool = ranks.slice(0, range);
            
            missingAnswers = [];
            for(let i=0; i<mCount; i++) {
                const idx = Math.floor(Math.random() * tempPool.length);
                const missingRank = tempPool.splice(idx, 1)[0];
                missingAnswers.push({ rank: missingRank, suit: suit });
                ansContainer.appendChild(createCardElement(missingRank, suit, false, 0, true));
            }

            const showCards = tempPool.sort(() => Math.random() - 0.5);
            showCards.forEach((r, idx) => {
                stage.appendChild(createCardElement(r, suit, false, idx * 0.05));
            });
        }

        function toggleAnswer() {
            const el = document.getElementById('floating-ans-container');
            if(el) el.classList.toggle('show-answer-box');
        }

        function startMemory() {
            let count = parseInt(document.getElementById('memory-count').value);
            const time = parseInt(document.getElementById('memory-time').value);
            const suitMode = document.getElementById('memory-suit-mode').value;
            const stage = document.getElementById('cards-container');
            const revealBtn = document.getElementById('btn-reveal-memory');
            const timerBox = document.getElementById('memory-timer');
            const timerSec = document.getElementById('timer-seconds');
            
            stage.innerHTML = '';
            memorySequence = [];
            revealBtn.disabled = true;

            let sourceDeck = [];
            if (suitMode === 'random') {
                suits.forEach(s => ranks.forEach(r => sourceDeck.push({ rank: r, suit: s })));
                if (count > 52) count = 52;
            } else {
                let s = suits[parseInt(suitMode)];
                ranks.forEach(r => sourceDeck.push({ rank: r, suit: s }));
                if (count > 13) { showToast("花色上限為 13 張"); count = 13; }
            }

            sourceDeck.sort(() => Math.random() - 0.5);
            memorySequence = sourceDeck.slice(0, count);

            memorySequence.forEach((card, i) => {
                stage.appendChild(createCardElement(card.rank, card.suit, false, i * 0.1));
            });

            if(countdownInterval) clearInterval(countdownInterval);
            if(memoryTimer) clearTimeout(memoryTimer);

            let timeLeft = time;
            timerSec.innerText = timeLeft;
            timerBox.classList.remove('hidden');

            countdownInterval = setInterval(() => {
                timeLeft--;
                timerSec.innerText = timeLeft;
                if(timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    timerBox.classList.add('hidden');
                }
            }, 1000);

            memoryTimer = setTimeout(() => {
                const cards = stage.querySelectorAll('.card');
                cards.forEach(c => c.classList.add('flipped'));
                showToast("牌面已覆蓋，點擊可單張翻開");
                revealBtn.disabled = false;
            }, time * 1000);
        }

        function revealMemory() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(c => c.classList.remove('flipped'));
            document.getElementById('btn-reveal-memory').disabled = true;
        }

        // --- 數字排序模式 (恢復為原始 Grid/Wrap 佈局) ---
        function generateSort() {
            const range = parseInt(document.getElementById('sort-range').value);
            const suitMode = document.getElementById('sort-suit').value;
            const stage = document.getElementById('cards-container');
            
            // 恢復為自動換行的佈局
            stage.className = "flex flex-wrap justify-center items-center gap-3 w-full p-4 overflow-y-auto";
            stage.innerHTML = '';

            let suit = suitMode === 'random' ? suits[Math.floor(Math.random() * 4)] : suits[parseInt(suitMode)];
            let pool = ranks.slice(0, range);
            pool.sort(() => Math.random() - 0.5);

            pool.forEach((r, idx) => {
                stage.appendChild(createCardElement(r, suit, false, idx * 0.05));
            });

            showToast(`已打亂 1 到 ${range} 的順序`);
        }

        window.onload = () => {
            setMode('draw');
            lucide.createIcons();
        };
    </script>
</body>
</html>
